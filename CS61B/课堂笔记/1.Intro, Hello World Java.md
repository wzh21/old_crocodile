​															

​																	**1. Intro, Hello World Java**

# course structure

<img src="C:\Users\weiziheng\AppData\Roaming\Typora\typora-user-images\image-20230118122138955.png" alt="image-20230118122138955" style="zoom: 25%;" />

<img src="C:\Users\weiziheng\AppData\Roaming\Typora\typora-user-images\image-20230118122142046.png" alt="image-20230118122142046" style="zoom: 25%;" />

<img src="C:\Users\weiziheng\AppData\Roaming\Typora\typora-user-images\image-20230118122146060.png" alt="image-20230118122146060" style="zoom:25%;" />



# Hello World

+ The program consists of a class declaration, which is declared using the keywords `public class`. **==In Java, all code lives inside of classes.==**

- The code that is run is inside of a method called `main`, which is declared as `public static void main(String[] args)`.
- We use curly braces `{` and `}` to denote the beginning and the end of a section of code.我们使用大括号“｛”和“｝”来表示一段代码的开头和结尾。
- Statements must end with semi-colons.语句必须以分号结尾。

This is not a Java textbook, so we won't be going over Java syntax in detail. If you'd like a reference, consider either Paul Hilfinger's free eBook [A Java Reference](http://www-inst.eecs.berkeley.edu/~cs61b/fa14/book1/java.pdf), or if you'd like a more traditional book, consider Kathy Sierra's and Bert Bates's [Head First Java](http://www.headfirstlabs.com/books/hfjava/).

## Running a Java Program

The most common way to execute a Java program is to run it through a sequence of two programs. ==**The first is the Java compiler(编译程序), or `javac`. The second is the Java interpreter, or `java`**.==

![compilationflow](https://joshhug.gitbooks.io/hug61b/content/assets/compilation_figure.svg)

For example, to run `HelloWorld.java`, we'd type the command `javac HelloWorld.java` into the terminal, followed by the command `java HelloWorld`. The result would look something like this:

```bash
$ javac HelloWorld.java
$ java HelloWorld
Hello World! 
```

在上图中，$表示终端的命令提示符。你的可能更长。

You may notice that we include the '.java' when compiling, but we don't include the '.class' when interpreting. **==This is just the way it is (TIJTWII)==.**

<img src="C:\Users\weiziheng\AppData\Roaming\Typora\typora-user-images\image-20230120114026726.png" alt="image-20230120114026726" style="zoom:33%;" />

中间产物`.class`文件的原因:

+ 被类型检查了, 更加安全
+ 更易于机器去执行(execute)
+ 次要好处：保护您的知识产权。无需提供来源

**Exercise 1.1.1.** Create a file on your computer called HelloWorld.java and copy and paste the exact program from above. Try out the `javac HelloWorld.java` command. It'll look like nothing happened.

但是，如果您查看目录，您将看到创建了一个名为HelloWorld.class的新文件**我们稍后再讨论这是什么**

Now try entering the command `java HelloWorld`. You should see "Hello World!" printed in your terminal.

*Just for fun.* Try opening up HelloWorld.class using a text editor like Notepad, TextEdit, Sublime, vim, or whatever you like. You'll see lots of crazy garbage that only a Java interpreter could love. **This is [Java bytecode(字节码)](https://en.wikipedia.org/wiki/Java_bytecode), which we won't discuss in our course.**

## Variables and Loops

The program below will print out the integers from 0 through 9.

```java
public class HelloNumbers {
    public static void main(String[] args) {
        int x = 0;
        while (x < 10) {
            System.out.print(x + " ");
            x = x + 1;
        }
    }
}
```

When we run this program, we see:

```bash
$ javac HelloNumbers.java
$ java HelloNumbers
$ 0 1 2 3 4 5 6 7 8 9 
```

这个程序的一些有趣的功能可能会让你大吃一惊：

- Our variable x must **be declared** before it is used, *and **it must be given a type**!*
- Our loop definition is contained inside of curly braces, and the boolean expression that is tested is contained inside of parentheses.
- Our print statement is just **`System.out.print` instead of `System.out.println`. This means we should not include a newline (a return).**
- Our print statement adds a number to a space. This makes sure the numbers don't run into each other. Try removing the space to see what happens.
- When we run it, our prompt ends up on the same line as the numbers (which you can fix in the following exercise if you'd like).

Of these features the most important one is the fact that variables have a declared type. We'll come back to this in a bit, but first, an exercise.

**Exercise 1.1.2.**修改`HelloNumbers`，以便它打印出从0到9的整数的累积和。例如，您的输出应该以0 1 3 6 10…开头，并以45结尾。

Also, if you've got an aesthetic itch, modify the program so that it prints out a new line at the end.

## Gradescope

本课程的作业通过名为[gradescope](http://www.gradescope.com/)的网站进行评分. 如果你参加的是本课程附带的加州大学课程，你将使用该课程提交你的成绩。如果你只是为了好玩，欢迎使用gradescope检查你的工作。要注册，请使用输入代码93PK75。有关gradescope和如何提交作品的更多信息，请参阅[gradescope guide（稍后链接）](https://joshhug.gitbooks.io/hug61b/content/chap1/TBA).

## Static Typing

One of the most important features of Java is that ==**all variables and expressions have a so-called `static type`**==. Java variables can contain values of that type, and only that type. Furthermore, ==the type of a variable can never change.==	**Java最重要的特性之一是所有变量和表达式都具有所谓的“静态类型”**。Java变量可以包含该类型的值，并且只能包含该类型。此外，变量的类型永远不会改变。

One of the key features of the Java compiler is that it performs a static type check. For example, suppose we have the program below:

```java
public class HelloNumbers {
    public static void main(String[] args) {
        int x = 0;
        while (x < 10) {
            System.out.print(x + " ");
            x = x + 1;
        }
        x = "horse";
    }
}
```

Compiling this program, we see:

```
$ javac HelloNumbers.java 
HelloNumbers.java:9: error: incompatible types: String cannot be converted to int
        x = "horse";
                ^
1 error
```

**==编译器在这个程序运行之前就立即拒绝它==**。这是一件大事，因为这意味着在世界上运行这个程序的人不可能遇到类型错误！

This is in contrast to **dynamically typed languages like Python**, where users can run into **type errors during execution**!==这与动态类型语言（如Python）不同，在Python中，用户在执行过程中遇到类型错误(Java在运行前就检查出了错误)==！

除了提供额外的错误检查外，静态类型还可以让程序员确切地知道他或她正在使用的对象类型。我们将在未来几周看到这是多么重要。这是我个人最喜欢的Java功能之一。

To summarize, static typing has the following advantages:

- The compiler ensures that all types are compatible(兼容的), **making it easier for the programmer to debug their code.**
- Since the code is guaranteed to be free of type errors, **users of your compiled programs will never run into type errors.** For example, Android apps are written in Java, and are typically distributed only as .class files, i.e. in a compiled format. As a result, such applications should never crash(崩溃) due to a type error since they have already been checked by the compiler.
- Every variable, parameter, and function has a declared type, making it easier for a programmer to understand and reason about code.每个变量、参数和函数都有一个声明的类型，使程序员更容易理解和推理代码。

然而，我们将看到静态类型有缺点，这将在后面的章节中讨论。

**Extra Thought Exercise**

In Java, we can say `System.out.println(5 + " ");`. But in Python, we can't say `print(5 + "horse")`, like we saw above. Why is that so?

Consider these two Java statements:

```java
String h = 5 + "horse";
```

and

```java
int h = 5 + "horse";
```

The first one of these will succeed; the second will give a compiler error. Since ==**Java is strongly typed**==, if you tell it `h` is a string, it can concatenate(连接) the elements and give you a string. But when `h` is an `int`, it can't concatenate a number and a string and give you a number.

Python doesn't constrain(约束,强迫) the type, and it can't make an assumption for what type you want. Is `x = 5 + "horse"` supposed to be a number? A string? **==Python doesn't know. So it errors.==**

In this case, `System.out.println(5 + "horse");`, Java interprets the arguments as a string concatentation, and prints out "5horse" as your result. Or, more usefully, **`System.out.println(5 + " ");` will print a space after your "5".**

What does `System.out.println(5 + "10");` print? 510, or 15? How about `System.out.println(5 + 10);`? 答案 : 510 , 15

## Defining Functions in Java

**In languages like Python, functions can be declared anywhere, even outside of functions.** For example, the code below declares a function that returns the larger of two arguments, and then uses this function to compute and print the larger of the numbers 8 and 10:	在Python等语言中，函数可以在任何地方声明，甚至可以在函数之外声明。例如，下面的代码声明了一个函数，该函数返回两个参数中较大的一个，然后使用该函数计算并打印数字8和10中较大的数字：

```python
def larger(x, y):
    if x > y:
        return x
    return y

print(larger(8, 10))
```

**Since all Java code is part of a class,** **==we must define functions so that they belong to some class.==** ==Functions== that are part of a class are commonly called "**==methods==**". We will use the terms interchangably(交替地) throughout the course. The equivalent Java program to the code above is as follows:

```java
public class LargerDemo {
    public static int larger(int x, int y) {
        if (x > y) {
            return x;
        }
        return y;
    }

    public static void main(String[] args) {
        System.out.println(larger(8, 10));
    }
}
```

这里的新语法是，我们使用关键字`public static`声明了我们的方法，这与Python的`def`关键字非常相似。我们将在下一章中看到声明方法的其他方法。

**The Java code given here certainly seems much more verbose(冗长的)! You might think that this sort of programming language will slow you down, and indeed it will, *in the short term*. Think of all of this stuff as safety equipment that we don't yet understand. When we're building small programs, it all seems superfluous(多余的). However, when we get to building large programs, we'll grow to appreciate all of the added complexity.**

> 总结 : 不是多余的, 在构建起大型程序的时候是很有用的

 作为类比，Python编程有点像[Dan Osman自由独奏《情人的飞跃》](https://www.youtube.com/watch?v=NCByLWtM7y4). 它可能很快，但很危险。相比之下，Java更像是使用绳索、头盔等 [这个视频](https://www.youtube.com/watch?v=tr6UIfPEuI0).

## Code Style, Comments, Javadoc

代码在很多方面都很漂亮。它可以是简洁的。它可能很聪明。它可以是高效的。新手最不喜欢的代码方面之一是代码风格。当你作为一个新手编程时，你常常一心一意地想让它发挥作用，而不考虑再看一次，也不必长时间维护它。

**In this course, we'll work hard to try to keep our code readable. Some of the most important features of good coding style are:**

- 一致的样式（间距、变量命名、大括号样式等）
- 大小（行不太宽，源文件不太长）
- Descriptive naming (variables, functions, classes), e.g. variables or functions with names like `year` or `getUserName` instead of `x` or `f`. 描述性命名（变量、函数、类），例如变量或函数的名称为“year”或“getUserName”，而不是“x”或“f”。
- **==Avoidance of repetitive code: You should almost never have two significant blocks of code that are nearly identical except for a few changes. 避免重复代码：您几乎不应该有两个几乎相同的重要代码块，除了一些更改。==**
- Comments where appropriate. Line comments in Java use the `//` delimiter. Block (a.k.a. multi-line comments) comments use `/*` and `*/`. 适当的注释。Java中的行注释使用“//”分隔符。块（也称为多行注释）注释使用“/*”和“*/”。

==The golden rule is this: Write your code so that it is easy for a stranger to understand.==

Here is the course's official [style guide](https://sp19.datastructur.es/materials/guides/style-guide.html). It's worth taking a look!

Often, we are willing to incur slight performance penalties, just so that our code is simpler to ==[grok(深入理解)](https://en.wikipedia.org/wiki/Grok)==. We will highlight examples in later chapters.

### Comments

We encourage you to write code **that is self-documenting,** i.e. by picking variable names and function names that make it easy to know exactly what's going on. However, this is not always enough. For example, if you are implementing a complex algorithm, you may need to **add comments to describe your code.** 你使用评论应该是明智的。**通过经验和接触他人的代码，你会感觉到什么时候评论是最合适的。**

One special note is that all of your methods and almost all of your classes should be described in a comment using the so-called [Javadoc](https://en.wikipedia.org/wiki/Javadoc) format. In a Javadoc comment, the block comment starts with an extra asterisk, e.g. `/**`, **and the comment often (but not always) contains descriptive tags.** We won't discuss these tags in this textbook, but see the link above for a description of how they work.

As an example without tags:

```java
public class LargerDemo {
    /** Returns the larger of x and y. */           
    public static int larger(int x, int y) {
        if (x > y) {
            return x;
        }
        return y;
    }

    public static void main(String[] args) {
        System.out.println(larger(8, 10));
    }
}
```

The widely used [javadoc tool](http://docs.oracle.com/javase/8/docs/technotes/tools/windows/javadoc.html) can be used to generate HTML descriptions of your code. We'll see examples in a later chapter.

### What Next

At the end of each chapter, there will be links letting you know what exercises (if any) you can complete with the material covered so far, listed in the order that you should complete them.

- [Homework 0](http://sp18.datastructur.es/materials/hw/hw0/hw0.html)
- [Lab 1b](http://sp18.datastructur.es/materials/lab/lab1setup/lab1setup)
- [Lab 1](http://sp18.datastructur.es/materials/lab/lab1/lab1.html)
- [Discussion 1](http://sp18.datastructur.es/materials/discussion/disc01.pdf)





# Defining and Using Classes

如果您以前没有Java经验，我们建议您完成[HW0](http://sp19.datastructur.es/materials/hw/hw0/hw0.html)中的练习在阅读本章之前。它将涵盖我们在书中不会讨论的各种语法问题。

## Static vs. Non-Static Methods

### Static Methods

Java中的所有代码都必须是类的一部分（或类似于类的东西，我们稍后将了解）。大多数代码都是在方法内部编写的。让我们考虑一个示例：

```java
public class Dog {
    public static void makeNoise() {
        System.out.println("Bark!");
    }
}
```

==If we try running the `Dog` class, we'll simply get an error message:==

```bash
$ java Dog
Error: Main method not found in class Dog, please define the main method as:
       public static void main(String[] args)
```

The `Dog` class we've defined doesn't do anything. We've simply defined something that `Dog` **can** do, namely make noise. To actually run the class, **==we'd either need to add a main method to the `Dog` class==**, as we saw in chapter 1.1. **==Or we could create a separate [`DogLauncher`](https://www.youtube.com/watch?v=Q-LE-jJQLTM) class that runs methods from the `Dog` class==.** For example, consider the program below:

```java
public class DogLauncher {
    public static void main(String[] args) {
        Dog.makeNoise();
    }
}
$ java DogLauncher
Bark!
```

**A class that uses another class is sometimes called a "==client" of that class==**, i.e. `DogLauncher` is a client of `Dog`. ==**Neither of the two techniques is better: Adding a main method to `Dog` may be better in some situations, and creating a client class like `DogLauncher` may be better in others**==. The relative advantages of each approach will become clear as we gain additional practice throughout the course.随着我们在整个课程中获得更多实践，每种方法的相对优势将变得明显。

> ==Calls a method from another class. Can think of this as a class that tests out the Dog class.==
>
> ==可以把`DogLauncher` 视为`Dog`的test类(测试类)==

### Instance Variables and Object Instantiation

Not all dogs are alike. Some dogs like to yap incessantly, while others bellow sonorously, bringing joy to all who hear their glorious call. Often, we write programs to mimic features of the universe we inhabit, and Java's syntax was crafted to easily allow such mimicry.我们编写程序来模仿我们所居住的宇宙的特征，而Java的语法被精心设计以方便这种模仿。

One approach to allowing us to represent the spectrum of Dogdom would be to create separate classes for each type of Dog.

```java
public class TinyDog {
    public static void makeNoise() {
        System.out.println("yip yip yip yip");
    }
}

public class MalamuteDog {
    public static void makeNoise() {
        System.out.println("arooooooooooooooo!");
    }
}
```

As you should have seen in the past, classes can be instantiated, and instances can hold data. This leads to a more natural approach, where we create instances of the `Dog` class and make the behavior of the `Dog` methods contingent upon the properties of the specific `Dog`. To make this more concrete, consider the class below:

```java
public class Dog {
    public int weightInPounds;

    public void makeNoise() {
        if (weightInPounds < 10) {
            System.out.println("yipyipyip!");
        } else if (weightInPounds < 30) {
            System.out.println("bark. bark.");
        } else {
            System.out.println("woof!");
        }
    }    
}
```

As an example of using such a Dog, consider:

```java
public class DogLauncher {
    public static void main(String[] args) {
        Dog d;
        d = new Dog();
        d.weightInPounds = 20;
        d.makeNoise();
    }
}
```

When run, this program will create a `Dog` with weight 20, and that `Dog` will soon let out a nice "bark. bark.".

Some key observations and terminology:

- **==An `Object` in Java is an instance of any class.==**
- The `Dog` class has its own variables, also known as ==*instance variables* or *non-static variables*==. These must be declared inside the class, unlike languages like Python or Matlab, where new variables can be added at runtime.
- The method that we created in the `Dog` class did not have the `static` keyword. We call such methods ==***instance methods* or *non-static methods***==.
- To call the `makeNoise` method, we had to first *instantiate* a `Dog` using the `new` keyword, and then make a specific `Dog` bark. In other words, **we called `d.makeNoise()` instead of `Dog.makeNoise()`.**
- Once an object has been instantiated(实例化), it can be ***assigned*** to a *declared* variable of the appropriate type, e.g. `d = new Dog();`
- ==**Variables and methods of a class are also called *members* of a class.**==
- **Members of a class are accessed using *dot notation*.**

### Constructors in Java

As you've hopefully seen before, we usually construct objects in object oriented languages using a ***constructor(构造函数)***:

```java
public class DogLauncher {
    public static void main(String[] args) {
        Dog d = new Dog(20);
        d.makeNoise();
    }
}
```

Here, the instantiation is parameterized, saving us the time and messiness of manually typing out potentially many instance variable assignments. To enable such syntax, we need only add a "constructor" to our Dog class, as shown below:在这里，实例化是参数化的，为我们节省了手动键入许多实例变量赋值的时间和混乱。要启用这样的语法，我们只需要向Dog类添加一个“构造函数”，如下所示：

```java
public class Dog {
    public int weightInPounds;

    public Dog(int w) {
        weightInPounds = w;
    }

    public void makeNoise() {
        if (weightInPounds < 10) {
            System.out.println("yipyipyip!");
        } else if (weightInPounds < 30) {
            System.out.println("bark. bark.");
        } else {
            System.out.println("woof!");
        }    
    }
}
```

The constructor with signature `public Dog(int w)` will be invoked anytime that we try to create a `Dog` using the `new` keyword and a single integer parameter. For those of you coming from Python, the constructor ==**is very similar to the `__init__` method.**==

### Array Instantiation, Arrays of Objects

正如我们在HW0中看到的，数组也使用new关键字在Java中实例化。例如：

```java
public class ArrayDemo {
    public static void main(String[] args) {
        /* Create an array of five integers. */
        int[] someArray = new int[5];
        someArray[0] = 3;
        someArray[1] = 4;
    }
}
```

类似地，我们可以在Java中创建实例化对象的数组，例如:

```java
public class DogArrayDemo {
    public static void main(String[] args) {
        /* Create an array of two dogs. */
        Dog[] dogs = new Dog[2];
        dogs[0] = new Dog(8);
        dogs[1] = new Dog(20);

        /* Yipping will result, since dogs[0] has weight 8. */
        dogs[0].makeNoise();
    }
}
```

Observe that new is used in two different ways: Once to create an array that can hold two `Dog` objects, and twice to create each actual `Dog`.

## Class Methods vs. Instance Methods

Java allows us to define two types of methods:

- **==Class methods, a.k.a. static methods.==**
- **==Instance methods, a.k.a. non-static methods.==** **a.k.a. : 又名**

**Instance methods are actions that can be taken only by a specific instance of a class. Static methods are actions that are taken by the class itself**. Both are useful in different circumstances. As an example of a static method, the `Math` class provides a `sqrt` method. Because it is static, we can call it as follows:

```java
x = Math.sqrt(100);
```

如果“sqrt”是一个实例方法，我们将使用下面的语法。幸运的是，“sqrt”是一个静态方法，因此我们不必在实际程序中这样做。

```java
Math m = new Math();
x = m.sqrt(100);
```

==**Sometimes, it makes sense to have a class with both instance and static methods.**== For example, suppose want the ability to compare two dogs. One way to do this is to add a static method for comparing Dogs.

```java
public static Dog maxDog(Dog d1, Dog d2) {
    if (d1.weightInPounds > d2.weightInPounds) {
        return d1;
    }
    return d2;
}
```

This method could be invoked by, for example:

```java
Dog d = new Dog(15);
Dog d2 = new Dog(100);
Dog.maxDog(d, d2);
```

Observe that we've invoked using the class name, since this method is a static method.

We could also have implemented `maxDog` as a non-static method, e.g.

```java
public Dog maxDog(Dog d2) {
    if (this.weightInPounds > d2.weightInPounds) {
        return this;
    }
    return d2;
}
```

Above, we use the keyword `this` to refer to the current object. This method could be invoked, for example, with:

```java
Dog d = new Dog(15);
Dog d2 = new Dog(100);
d.maxDog(d2);
```

Here, we invoke the method using a specific instance variable.

**==两种方法都可以, 就看你的审美如何以及什么时候可能更加合适==**

<img src="C:\Users\weiziheng\AppData\Roaming\Typora\typora-user-images\image-20230120154746466.png" alt="image-20230120154746466" style="zoom: 33%;" />

+ 类中定义的**变量**和**方法**也被称为类的**成员**
+ **静态成员通过类名访问**
+ 非静态成员不能通过类名访问
+ **==静态方法必须通过特定的实例才能访问到实例变量==** 

### Static Variables

It is occasionally useful for classes to have static variables. These are properties inherent(属性) to the ==**class itself**==, rather than the instance. For example, we might record that the scientific name (or binomen) for Dogs is "Canis familiaris":   

```java
public class Dog {
    public int weightInPounds;
    public static String binomen = "Canis familiaris";
    ...
}
```

==Static variables should be accessed using the name of the class rather than a specific instance, e.g. you should use `Dog.binomen`, not `d.binomen`.==

==While Java technically allows you to access a static variable using an instance name, it is bad style, confusing, and in my opinion an error by the Java designers.虽然从技术上讲，Java允许您使用实例名访问静态变量，但这是一种糟糕的风格，令人困惑，在我看来，这是Java设计者的错误。==

## public static void main(String[] args)

根据我们到目前为止所学到的知识，是时候解开我们一直用于main方法的声明的神秘面纱了。将其分解，我们有：

- `public`: So far, all of our methods start with this keyword.
- `static`: It is a static method, not associated with any particular instance.它是一个静态方法，不与任何特定实例关联。
- `void`: It has no return type.
- `main`: **This is the name of the method.**
- `String[] args`: This is a parameter that is passed to the main method.这是传递给主方法的参数。

### ==Command Line Arguments 命令行参数==

Since **main is called by the Java interpreter itself rather than another Java class**, it is the interpreter's job to supply these arguments. They refer usually to the command line arguments. For example, consider the program `ArgsDemo` below:

```java
public class ArgsDemo {
    public static void main(String[] args) {
        System.out.println(args[0]);
    }
}
```

This program prints out the 0th command line argument, e.g.

```
$ java ArgsDemo these are command line arguments
these
```

**In the example above, `args` will be an array of Strings, where the entries are {"these", "are", "command", "line", "arguments"}.** 

> String[] args 是命令行参数!!!!!!

### Summing Command Line Arguments

**Exercise 1.2.3**: Try to write a program that sums up the command line arguments, assuming they are numbers. For a solution, see the webcast or the code provided on GitHub.

## Using Libraries 使用库

作为程序员，最重要的技能之一是知道如何查找和使用现有的库。在辉煌的现代时代，经常可以通过求助于网络来节省大量的工作和调试。

在本课程中，欢迎您这样做，但要注意以下事项：

- 不要使用我们不提供的库。
- 引用你的来源。
- 不要为特定的家庭作业或项目问题寻找解决方案。

For example, it's fine to search for "convert String integer Java". However, it is not OK to search for "nbody project berkeley".

有关协作和学术诚信政策的更多信息，请参阅课程大纲。

### What Next

- [Project 0](http://sp19.datastructur.es/materials/proj/proj0/proj0)
- [Discussion 2](http://sp19.datastructur.es/materials/discussion/disc02.pdf)

